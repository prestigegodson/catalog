{% extends "layout.html" %}

{% block body %}
    <section>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor%}
                </ul>
            {% endif %}
        {% endwith %}
        <form action="{{ url_for('edit_item') }}" method="post">
            <input type="hidden"  name="_csrf_token" value="{{ _csrf_token }}" /> 
            <input type="hidden" name="item_id" value="{{ item.id }}" />
            <div class="row">
                <div class="col-md-12">
                    <label for="_csrf_token">Item Name</label>
                    <input type="text" class="form-input" name="item_name" value="{{ item.name }}" required />
                </div>
                <div class="col-md-12">
                    <label for="_csrf_token">Item Description</label>
                    <textarea  class="form-input" name="item_description" required> {{ item.description }} </textarea>
                </div>
                <div class="col-md-12">
                    <label for="_csrf_token">Category</label>
                    <select name="category">
                        {% for category in categories %}
                            {% if category.id == item.category_id %}
                                <option value={{category.id}} selected>{{ category.name }}</option>
                            {% else %}
                                <option value={{category.id}} >{{ category.name }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-12">
                    <button type="submit" class="btn btn-success">Update</button>
                </div>
            </div>
        </form>
    </section>
{% endblock %}

